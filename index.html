<!DOCTYPE html>
<html>
<head>
  <title>Embedded Scientific Computing</title>
  <meta charset="utf-8">
  <meta name="description" content="Embedded Scientific Computing">
  <meta name="author" content="Jeroen Ooms">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/jeroen.css"></link>
<link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>Embedded Scientific Computing</h1>
    <h2>A reliable, scalable and reproducible approach to statistical software for data-driven business and open science</h2>
    <p>Jeroen Ooms<br/>UCLA Statistics</p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background:;">
  <article data-timings="">
    <!-- 
library(slidify)
library(slidifyLibraries)
-->

<!-- 
- fundamental change in the way analysis and vizualization methods get implemented 
- central: observation that field is rapidly changing
- traditions based on history. Old field, this works, rise of internet has gone unnoticed.
-->

<h2>Definition</h2>

<h3>Statistical Software as we know it:</h3>

<ul>
<li>Emphasis on UI</li>
<li>Interactive</li>
<li>Local machine</li>
<li>Single-user</li>
<li>Trial-and-error</li>
<li>Copy/paste results</li>
<li>Inventive, experimental, volatile</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-2" style="background:;">
  <article data-timings="">
    <!-- 
- still useful, but also need for:
- shift to, more emphasis on
- not black and white, different emphasis
-->

<h2>Definition</h2>

<h3>Embedded Scientific Computing</h3>

<p><img src="gears.jpg" alt="gears"></p>

<ul>
<li>Statistical methods as modules</li>
<li>Applications, pipelines</li>
<li>Integration</li>
<li>Interoperability</li>
<li>Interdisciplinary</li>
<li>UI &gt; API</li>
<li>Component Based Engineering</li>
<li>Separation of Concerns</li>
<li>Scaling</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-3" style="background:;">
  <hgroup>
    <h2>Interoperability</h2>
  </hgroup>
  <article data-timings="">
    <!-- 
- Statistics and statisticians becoming more accessible is accompanied by interoperability of statistical software.
-->

<p><img src="gears.jpg" alt="gears"></p>

<ul>
<li>Integrate with upcoming technology </li>
<li>Big data, vizualization</li>
<li>Specialized applications</li>
<li>Real-time analysis on live data</li>
<li>Internet based data management</li>
<li>Web based scientific collaboration</li>
<li>Online analysis and pipelines</li>
<li>Transparency and reproducibility</li>
<li>Learning and teaching </li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-4" style="background:;">
  <article data-timings="">
    <!-- 
- ggplot2 gui got lots of attention, still mailing about that
-->

<h2>Motivation</h2>

<h3>How it started</h3>

<p><a href="http://vps.stefvanbuuren.nl/puberty" title="Link"><img src="puberty_small.png" alt="puberty"></a></p>

<ul>
<li>Basic R webapps in 2008/2009</li>
<li>Simple but very effective </li>
<li>Did some more applictions</li>
<li>Lots of interest</li>
<li>Bunch of consluting</li>
<li>GSR for Mobilize</li>
<li class = '..</li>
</ul>

 '></article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-5" style="background:;">
  <article data-timings="">
    <!-- 
- anecdote: ggplot2 webapp server crash
- anecdote: lme4 server keeps getting stuck
- anecdote: very hard to train people to do this
Want to turn academic software into production software
-->

<h2>Motivation</h2>

<h3>Problems</h3>

<ul>
<li>Unstable (lme4)</li>
<li>Dependency problems (ggplot2)</li>
<li>High coupling</li>
<li>Unsustainable complexity</li>
<li>Collaboration difficult</li>
<li>Interdisciplinary disconnect</li>
<li>Conclusion: doesn&#39;t scale</li>
<li>Fundamental unsolved problems</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-6" style="background:;">
  <article data-timings="">
    <!-- 
- This is actually very difficult.
- Needs more research
- problems are underteremined, and complexity is underestimated
- What are application specific annoyances, and what are core problems?
-->

<h2>Research Goal</h2>

<h3>Integrated Statistical Software that is:</h3>

<ul>
<li>Reliable</li>
<li>Scalable</li>
<li>Practical</li>
</ul>

<h3>To do so:</h3>

<ul>
<li>Find recurring struggles</li>
<li>Distill fundamental problems</li>
<li>Identify core logic</li>
<li>Experiment with solutions</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-7" style="background:;">
  <hgroup>
    <h2>Approach: OpenCPU</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="cloudicon.jpg" alt="cloudicon"></p>

<ul>
<li>Develop general purpose software system</li>
<li>Solve &#39;hard&#39; problems, and nothing else</li>
<li>Simple, flexible, extensible</li>
<li>Language/application agnostic</li>
<li>Iterative development through trial and error</li>
<li>Software itself is subject of study</li>
<li>Pragmatic solutions</li>
<li>Proof of concept implementation</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-8" style="background:;">
  <hgroup>
    <h2>Research: Four cornerstones</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="puzzle.jpg" alt="puzzle"></p>

<h3>Core problems:</h3>

<ol class = "build incremental">
<li>Interoperable Interfacing</li>
<li>Security and resource control</li>
<li>Data Interchange</li>
<li>Dependency Versioning</li>
</ol>

<h3>For each topic:</h3>

<ul class = "build incremental">
<li>Identify and delineate problem</li>
<li>Domain specific aspects</li>
<li>Approaches</li>
<li>My solution</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-9" style="background:;">
  <hgroup>
    <h2>Research: Four cornerstones</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="puzzle.jpg" alt="puzzle"></p>

<h3>Core problems:</h3>

<ol>
<li>Interoperable Interfacing</li>
<li><b>Security and resource control</b></li>
<li><b>Data Interchange</b></li>
<li><b>Dependency Versioning</b></li>
</ol>

<h3>For each topic:</h3>

<ul>
<li>Identify and delineate problem</li>
<li>Domain specific aspects</li>
<li>Approaches</li>
<li>My solution</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-10" style="background:;">
  <hgroup>
    <h2>Research: Four cornerstones</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="puzzle.jpg" alt="puzzle"></p>

<h3>Core problems:</h3>

<ol>
<li><b>Interoperable Interfacing</b></li>
<li>Security and resource control</li>
<li>Data Interchange</li>
<li>Dependency Versioning</li>
</ol>

<h3>For each topic:</h3>

<ul>
<li>Identify and delineate problem</li>
<li>Domain specific aspects</li>
<li>Approaches</li>
<li>My solution</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-11" style="background:;">
  <hgroup>
    <h2>About R</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="logo.png" alt="rlogo"></p>

<ul>
<li>Mature, reliable, flexible</li>
<li>Lingua franca, de-facto standard</li>
<li>Experiences mostly with R</li>
<li>Problems and solutions illustrated in R</li>
</ul>

<h3>However</h3>

<ul>
<li>Purpose is not merely to develop software</li>
<li>Thesis describes general logic of computing</li>
<li>Same problems will appear in other languages</li>
<li>Similar techniques will work for Matlab, Julia, Python</li>
<li>But to study the software, we need an implementation</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-12" style="background:;">
  <hgroup>
    <h2>Part 1: Security</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="security-dude.jpg" alt="security-dude"></p>

<h2>Security and resource control</h2>

<ul class = "build incremental">
<li>Most challenging piece</li>
<li>Problem: controlling</li>
<li>Traditional user-role based </li>
</ul>

<h3>Domain specific problems:</h3>

<ul class = "build incremental">
<li>Use role based security infeasible</li>
<li>Need for arbitrary code execution</li>
<li>Control hardware resources</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-13" style="background:;">
  <hgroup>
    <h2>Example security profile</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="no-highlight">profile r-base {
    #include &lt;abstractions/base&gt;
    #include &lt;abstractions/nameservice&gt;
    @{PROC}/[0-9]*/attr/current r,    

    /bin/* rix,
    /etc/R/* r,
    /etc/fonts/** mr,
    /etc/resolv.conf r,
    /tmp/** rw,
    /usr/bin/* rix,
    /usr/lib/R/bin/* rix,
    /usr/lib{,32,64}/** mr,
    /usr/lib{,32,64}/R/bin/exec/R rix,
    /usr/local/lib/R/** mr,
    /usr/local/share/** mr,
}
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-14" style="background:;">
  <hgroup>
    <h2>Mandatory Access Control</h2>
  </hgroup>
  <article data-timings="">
    <p>RAppArmor: bindings security methods in <code>Linux</code>:</p>

<pre><code class="r">#Set 100M memory limit
&gt; rlimit_as(100 * 1024 * 1024)

#Set 4 core limit
&gt; rlimit_nproc(4)

#apply security profile
&gt; aa_change_profile(&quot;my_secure_profile&quot;)

#not allowed
&gt; list.files(&quot;/&quot;)
character(0)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-15" style="background:;">
  <hgroup>
    <h2>Dynamic Sanboxing with eval.secure</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">#Sandboxed evaluation
&gt; eval.secure({
  #arbitrary code
  x &lt;- rnorm(3)
  mean(x)
#With restrictions  
}, profile=&quot;my_secure_profile&quot;, rlimit_as = 100 * 1024 * 1024, rlimit_nproc = 4)
[1] 0.01563452
</code></pre>

<p>Dynamic sandboxing with <code>eval.secure</code>:</p>

<ol class = "build incremental">
<li>Create fork of the current process</li>
<li>Apply limits and security profile</li>
<li>Evaluate code in fork</li>
<li>Copy output to parent proc</li>
<li>Kill fork (and children)</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-16" style="background:;">
  <hgroup>
    <h2>Mandatory Access Control</h2>
  </hgroup>
  <article data-timings="">
    <h3>Major benefits for scientific computing</h3>

<ul class = "build incremental">
<li>No need for complex user-role security policies</li>
<li>Separate security concern from computing concerns</li>
<li>Support for arbitrary code execution</li>
<li>Fine grained control over hardware allocation</li>
<li>Scale up to many users without sacrifing reliability</li>
<li>Performance overhead neglectible<br></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-17" style="background:;">
  <hgroup>
    <h2>Data Interchange</h2>
  </hgroup>
  <article data-timings="">
    <ul class = "build incremental">
<li>Formats: <code>JSON</code>, <code>XML</code>, <code>Protocol Buffers</code>, etc</li>
<li>Challenge: defining interface structure</li>
</ul>

<h3>Traditional Approach</h3>

<ul class = "build incremental">
<li>Tools to read and manipulate I/O data</li>
<li>Schema&#39;s and documentation to define structure</li>
<li>Schema languages don&#39;t wory very well for loosely defined structures</li>
<li>Scientific computing languages are generally dynamically typed</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-18" style="background:;">
  <hgroup>
    <h2>Alternative solution</h2>
  </hgroup>
  <article data-timings="">
    <h3>Direct Mapping R &lt;--&gt; JSON</h3>

<ul>
<li>Simple conventions we can define a mapping between </li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-19" style="background:;">
  <hgroup>
    <h2>Examples of JSON &lt;--&gt; R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">#Random object
x &lt;- list(foo = matrix(1:8, nrow=2))

#Convert to JSON
json &lt;- toJSON(x)
cat(json)
{ &quot;foo&quot; : [ [ 1, 3, 5, 7 ], [ 2, 4, 6, 8 ] ] }

#Convert back to R
y &lt;- fromJSON(json)
all.equal(x,y)
[1] TRUE
&gt; print(y)
$foo
     [,1] [,2] [,3] [,4]
[1,]    1    3    5    7
[2,]    2    4    6    8
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-20" style="background:;">
  <hgroup>
    <h2>Examples of JSON &lt;--&gt; R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">&gt; toJSON(iris[1:2,], pretty=T)
[
  {
        &quot;Sepal.Length&quot; : 5.1,
        &quot;Sepal.Width&quot; : 3.5,
        &quot;Petal.Length&quot; : 1.4,
        &quot;Petal.Width&quot; : 0.2,
        &quot;Species&quot; : &quot;setosa&quot;
    },
    {
        &quot;Sepal.Length&quot; : 4.9,
        &quot;Sepal.Width&quot; : 3,
        &quot;Petal.Length&quot; : 1.4,
        &quot;Petal.Width&quot; : 0.2,
        &quot;Species&quot; : &quot;setosa&quot;
    }
]
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-21" style="background:;">
  <hgroup>
    <h2>Limitations</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">#matrix
&gt; identical(volcano, fromJSON(toJSON(volcano)))
[1] TRUE

#data frame
&gt; identical(cars, fromJSON(toJSON(cars)))
[1] TRUE

#factors are coersed to strings
&gt; json &lt;- toJSON(iris)
&gt; iris2 &lt;- fromJSON(json)
&gt; all.equal(iris, iris2)
   Component “Species”: &#39;current&#39; is not a factor
&gt; iris2$Species &lt;- as.factor(iris2$Species)
&gt; all.equal(iris, iris2)
[1] TRUE
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-22" style="background:;">
  <hgroup>
    <h2>Interfacing</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Interoperable</li>
<li>Separation of concerns</li>
<li>HTTP</li>
<li>State problem</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-23" style="background:;">
  <article data-timings="">
    <p><img src="screenshot.png" alt="screenshot"></p>

<h2>Apps</h2>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-24" style="background:;">
  <hgroup>
    <h1>Conclusion</h1>
  </hgroup>
  <article data-timings="">
    <ul class = "build incremental">
<li>Build applications</li>
<li>Collaborative</li>
<li>Hope to contribute to socializing data analysis</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title=''>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title=''>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='Interoperability'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title=''>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title=''>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title=''>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='Approach: OpenCPU'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Research: Four cornerstones'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='Research: Four cornerstones'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Research: Four cornerstones'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='About R'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='Part 1: Security'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='Example security profile'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='Mandatory Access Control'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='Dynamic Sanboxing with eval.secure'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='Mandatory Access Control'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Data Interchange'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='Alternative solution'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Examples of JSON &lt;--&gt; R'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='Examples of JSON &lt;--&gt; R'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='Limitations'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='Interfacing'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title=''>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Conclusion'>
         24
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>